# C Programming Contest App

A full-stack web application for conducting C programming contests with real-time leaderboard updates, code submission, and admin dashboard.

## Features

- ğŸ¯ Team-based contest participation
- ğŸ“Š Real-time leaderboard with Socket.io
- ğŸ’» Code submission and execution
- ğŸ‘¨â€ğŸ’¼ Admin dashboard for contest management
- ğŸ” Secure authentication (JWT)
- ğŸ“ Question management
- â±ï¸ Contest timer and duration control

## Tech Stack

- **Frontend**: React + Vite
- **Backend**: Node.js + Express
- **Database**: SQLite (via @seald-io/nedb)
- **Real-time**: Socket.io
- **Authentication**: JWT

## Quick Deploy

Your app is ready to deploy! Choose either Render or Railway:

### Option 1: Deploy to Render (Recommended - Easiest)

#### 1. Make sure your GitHub repo is public
- Go to https://github.com/harishthiru2807/contest-app
- Click Settings â†’ Change repository visibility â†’ Make public

#### 2. Deploy on Render

1. Go to [Render.com](https://render.com) and sign in (or create an account)
2. Click **"New +"** â†’ **"Web Service"**
3. Connect your GitHub account if not already connected
4. Select your repository: `harishthiru2807/contest-app`
5. Render will automatically detect `render.yaml` and configure:
   - **Name**: contest-app
   - **Root Directory**: backend
   - **Build Command**: `cd ../frontend && npm install && npm run build && cd ../backend && npm install`
   - **Start Command**: `node src/utils/seeder.js && node server.js`
   - **Environment Variables**: Auto-configured from render.yaml
6. Click **"Create Web Service"**
7. Wait for the build to complete (5-10 minutes)
8. Your app will be live at: `https://contest-app.onrender.com`

### Option 2: Deploy to Railway

#### Fix the WorkspaceId Error

The error "You must specify a workspaceId to create a project" happens because Railway needs a workspace first. Here's how to fix it:

**Method 1: Deploy via Railway Dashboard (Easiest)**

1. Go to [Railway.app](https://railway.app) and sign in
2. If you don't have a workspace yet:
   - Click on your profile â†’ **"New Workspace"** (or Railway will create one automatically)
   - Give it a name (e.g., "My Projects")
3. Click **"New Project"**
4. Select **"Deploy from GitHub repo"**
5. Choose your repository: `harishthiru2807/contest-app`
6. Railway will automatically detect `railway.toml` and configure:
   - **Build Command**: `cd frontend && npm install && npm run build && cd ../backend && npm install`
   - **Start Command**: `cd backend && node src/utils/seeder.js && node server.js`
7. Add Environment Variables (if not auto-detected):
   - `NODE_ENV` = `production`
   - `PORT` = `5000`
   - `JWT_SECRET` = (generate a random string)
   - `ADMIN_JWT_SECRET` = (generate a random string)
   - `ADMIN_EMAIL` = `harishcode@admin.com`
   - `ADMIN_PASSWORD` = `123456789`
8. Click **"Deploy"** and wait for the build to complete
9. Your app will be live at: `https://your-app-name.up.railway.app`

**Method 2: Use Railway CLI**

```bash
# Install Railway CLI
npm install -g @railway/cli

# Login to Railway
railway login

# Initialize project (creates workspace automatically)
railway init

# Link to existing project (if you created one in dashboard)
railway link

# Deploy
railway up
```

### Access Your App

- **Public URL**: Your deployment service URL
- **Admin Login**: 
  - Email: `harishcode@admin.com`
  - Password: `123456789`

## Local Development

### Prerequisites
- Node.js 16+ and npm

### Setup

1. Install dependencies:
```bash
npm install
cd frontend && npm install && cd ../backend && npm install
```

2. Start the backend:
```bash
cd backend
npm start
```

3. Start the frontend (in a new terminal):
```bash
cd frontend
npm run dev
```

4. Access the app:
- Frontend: http://localhost:5173
- Backend API: http://localhost:5000

### Seed Database
```bash
cd backend
npm run seed
```

## Project Structure

```
conte/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js          # Main server file
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ db/            # Database setup
â”‚   â”‚   â”œâ”€â”€ routes/        # API routes
â”‚   â”‚   â”œâ”€â”€ models/        # Data models
â”‚   â”‚   â”œâ”€â”€ middleware/    # Auth middleware
â”‚   â”‚   â””â”€â”€ utils/         # Utilities (code runner, seeder)
â”‚   â””â”€â”€ data/              # SQLite database files (gitignored)
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/         # React pages
â”‚   â”‚   â”œâ”€â”€ components/    # React components
â”‚   â”‚   â””â”€â”€ context/       # React context (Auth)
â”‚   â””â”€â”€ dist/              # Build output (gitignored)
â”œâ”€â”€ render.yaml            # Render deployment config
â””â”€â”€ railway.toml           # Railway deployment config
```

## Environment Variables

The following environment variables are configured in `render.yaml`:

- `NODE_ENV`: production
- `PORT`: 5000
- `JWT_SECRET`: Auto-generated by Render
- `ADMIN_JWT_SECRET`: Auto-generated by Render
- `ADMIN_EMAIL`: harishcode@admin.com
- `ADMIN_PASSWORD`: 123456789

## License

MIT
